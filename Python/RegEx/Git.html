<!DOCTYPE html>
<html dir="ltr">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

<title>Elvenware Azure</title>

<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0" name="viewport" />
<link href="/charlie/libs/css/style2.css" rel="stylesheet" title="style2" type="text/css" />
<link href="/charlie/libs/jquery-ui/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="/charlie/libs/scripts/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.19/jquery-ui.min.js" type="text/javascript"></script>
<script src="/charlie/libs/scripts/elvenware.js" type="text/javascript"></script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2806409-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>



<div id="container">
	<header>
		<div class="navButton" onclick="elvenware.toggleMenu()">
			Toggle Menu</div>
		<h1>Charlie Calvert on Elvenware</h1>
		<h2>Writing Code and Prose on Computers</h2>
	</header>
	<nav>
		<h2>Menu</h2>
		<div id="accordion00">
		<h2 class="navSection01">Core Code</h2>
			<ul>
				<li><a href="/charlie/development/index.html">Strongly Typed</a></li>
				<li><a href="/charlie/development/web/index.html">Web &amp; Scripts</a></li>
				<li><a href="/charlie/development/cloud/index.shtml">Cloud</a></li>
			</ul>
		
			<h2 class="navSection02">OS and Tools</h2>
			<ul>
				<li><a href="/charlie/os/index.html">OS</a></li>
				<li><a href="/charlie/development/database/index.html">Database</a></li>
				<li><a href="/charlie/books/index.html">My Writing</a></li>
			</ul>
			
		
			<h2 class="navSection03">Art</h2>
			<ul>
				<li><a href="../../Art/index.html">Poems &amp; Photos</a></li>
				<li><a href="../../books/reading/index.html">Book Reviews</a></li>
				<li><a href="../../spirit/index.html">Spiritual</a></li>
			</ul>
			<h2 class="navSection04">Links</h2>
			<ul>
				<li><a href="../../links.html">My Links</a></li>
				<li><a href="http://www.falafel.com/">Falafel</a></li>
				<li><a href="http://sourceforge.net/projects/elvenware/">Sourceforge</a></li>
			</ul>
		</div>
	</nav>
	<article>
	
	
		<figure>
			<img alt="Elvenware" src="/charlie/images/elvenwarelogo.png" /></figure>

			<ul><li><a href='#git-basics'>Git Basics</a></li>
<li><a href='#git-guides-found-on-the-web'>GIT Guides found on the Web</a></li>
<li><a href='#install-git-on-windows'>Install Git on Windows</a></li>
<li><a href='#running-git'>Running GIT</a></li>
<li><a href='#install-git-on-ubuntu-server'>Install Git on Ubuntu Server</a></li>
<li><a href='#working-with-files-in-repository'>Working with Files in Repository</a></li>
<li><a href='#git-config-file'>Git CONFIG File</a></li>
<li><a href='#git-overwrite-local-changes'>Git Overwrite Local Changes</a></li>
<li><a href='#git-urls-and-ssh'>Git URLs and SSH</a></li>
<li><a href='#what-url-is-my-connection-using'>What URL is My Connection Using?</a></li>
<li><a href='#the-ssh-key'>The SSH Key</a></li>
<li><a href='#host-key-is-not-cached'>Host Key is not Cached</a></li>
<li><a href='#clone-a-local-repository'>Clone a Local Repository</a></li>
<li><a href='#git-remote'>GIT Remote</a></li>
<li><a href='#working-with-branches'>Working with Branches</a></li>
<li><a href='#push-local-branch-to-remote'>Push Local Branch to Remote</a></li>
<li><a href='#clone-a-local-repository-1'>Clone a Local Repository</a></li>
<li><a href='#clone-a-specific-branch'>Clone a Specific Branch</a></li>
<li><a href='#restructure-you-repository'>Restructure you Repository</a></li>
<li><a href='#terminal-is-not-fully-functional'>Terminal is Not Fully Functional</a></li>
<li><a href='#miscelaneous-information'>Miscelaneous Information</a></li>
<li><a href='#learn-about-nodejs'>Learn about NodeJS</a></li>
<li><a href='#simpledb'>SimpleDb</a></li>
<li><a href='#templating-engines'>Templating engines</a></li>
</ul>
<h2 id="git-basics">Git Basics</h2>
<p>Git is a version control system with a distributed model that allows you to clone repositories onto your local machine. This means you can have a local version of the repository and check in and check out from there before deciding that you want to push to the main repository.</p>
<p>Below you find links to the main site for Git. You will also find their download page and related links:</p>
<ul>
<li><a href="http://git-scm.com/">http://git-scm.com/</a></li>
<li><a href="http://git-scm.com/downloads">http://git-scm.com/downloads</a></li>
</ul>
<p>There are many Git servers in the cloud. Here are two that everyone should know about:</p>
<ul>
<li>GitHub: <a href="https://github.com/">https://github.com</a></li>
<li>BitBucket: <a href="https://bitbucket.org/">https://bitbucket.org/</a></li>
</ul>
<p>You probably want to have accounts on both GitHub and BitBucket. Everyone uses GitHub, and bitbucket competes by allowing you to have free private accounts.</p>
<h2 id="git-guides-found-on-the-web">GIT Guides found on the Web</h2>
<ul>
<li><a href="https://confluence.atlassian.com/display/BITBUCKET/bitbucket+101">https://confluence.atlassian.com/display/BITBUCKET/bitbucket+101</a></li>
<li><a href="https://help.github.com/">https://help.github.com/</a></li>
<li><a href="http://git-scm.com/documentation">http://git-scm.com/documentation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Git_(software)">http://en.wikipedia.org/wiki/Git_(software)</a></li>
</ul>
<h2 id="install-git-on-windows">Install Git on Windows</h2>
<p>There are two applications you might want to install. The primary GIT application is found here:</p>
<ul>
<li><a href="http://git-scm.com/">http://git-scm.com/</a></li>
<li><a href="http://git-scm.com/downloads">http://git-scm.com/downloads</a></li>
</ul>
<p>When you run the install shown above, be sure to choose the option that gets GIT on your path. Also, you will probably want to set GIT up to work with PLink (Putty), and you will want to choose an option that ensures that you have LF style line endings on files that you plan to use on a Linux box.</p>
<p>Because GitHub is so ubiquitous, you will probably want to install it's GUI front end also:</p>
<ul>
<li>GitHub: <a href="https://github.com/">https://github.com</a></li>
</ul>
<p>You can use Git-Scm with Git-Hub, but there is no denying that the GitHub GUI makes dealing with repositories on GitHub very easy.</p>
<h2 id="running-git">Running GIT</h2>
<p>If you use Putty, it will probably be simplest for you if you use GIT with plink, which is part of Putty. During the GIT SCM install, you have the chance to set this up, as shown in the screenshot below:</p>
<figure>
<img src="/charlie/development/cloud/images/GitScm01.png" alt="Use plink" /><figcaption>Use plink</figcaption>
</figure>
<p>If you have already installed GIT, don't despair! All the option above does is set an environment variable named GIT_SSH. If you chose the option shown in the screenshot, then when you type SET at the command line, you should find something like the following value for GIT_SSH:</p>
<pre><code>GIT_SSH=C:\Program Files (x86)\PuTTY\plink.exe</code></pre>
<p>Since you have a deep knowledge of envirnment variables, you know how to modify this variable using the Environment Variables dialog.</p>
<figure>
<img src="/charlie/development/cloud/images/GitScm02.png" alt="Set the GIT_SSH environment variable" /><figcaption>Set the GIT_SSH environment variable</figcaption>
</figure>
<p>If you have been living a sheltered life, you can learn about about environment variables here:</p>
<pre><code>&lt;/charlie/os/windows/faq.html#environment&gt;</code></pre>
<h2 id="install-git-on-ubuntu-server">Install Git on Ubuntu Server</h2>
<p>It may be helpful to setup a default editor. You can do so by running either of the following at a *nix command prompt:</p>
<pre><code>export EDITOR=nano
export EDITOR=vim</code></pre>
<p>Now install git:</p>
<pre><code>sudo apt-get install git</code></pre>
<p>Create a directory named git and navigate to it:</p>
<pre><code>mkdir git
cd git</code></pre>
<p>Now pull down a repository that you do not own, and hence will be in read only mode:</p>
<pre><code>git clone git://github.com/charliecalvert/JsObjects.git</code></pre>
<p>You can go to GitHub and create a repository and put a readme file in it. If you own the repository, or have rights to it, then the command might look more like this:</p>
<pre><code>git clone https://github.com/charliecalvert/bc-basic.git</code></pre>
<h2 id="working-with-files-in-repository">Working with Files in Repository</h2>
<p>Now, lets add a folder named temp and a file named foo.txt to the repository:</p>
<pre><code>mkdir temp  
cd temp
echo foo &gt; foo.txt
cd ..</code></pre>
<p>Now add the changes and commit the work to the repository:</p>
<pre><code>git add temp  
git commit -m &quot;adding temp&quot;  </code></pre>
<p>After issuing the last command, you will see several lines of feedback from git. Now it is time to push your changes up to GitHub (or to wherever your repository is stored)L</p>
<pre><code>git push  </code></pre>
<p>If you do not have an SSH key and repository set up, you will now be asked for your username and password.</p>
<p>Sometimes you will have conflicts between what is on the server and what you have on your machine. In that case, do a merge. This will create a local copy of you files with both sets of text in it. Open your file in a text editor, find the places where the conflicts exist, fix them manually, and then go through another add/commit/push cycle.</p>
<h2 id="git-config-file">Git CONFIG File</h2>
<p>If you they ask you to set your global user.email, you can write something like this:</p>
<pre><code>git config --global user.email &quot;me@somewhere.com&quot;</code></pre>
<p>This information is usually writting to $HOME/.gitconfig. For instance:</p>
<pre><code>c:\users\username\.gitconfig</code></pre>
<p>Or on Linux:</p>
<pre><code>\home\username\.gitconfig</code></pre>
<p>Or on the Mac:</p>
<pre><code>\users\username\.gitconfig</code></pre>
<p>If you are guru, and this gets really mixed up, try looking in:</p>
<pre><code>C:\Program Files (x86)\Git\etc\profile  </code></pre>
<p>In particular, one time I found my environment had a variable in it called HOME that was pointing to some nonsense value like /home/ubuntu, even though I was on a Windows machine.</p>
<p>In the .get directory you will find your config file. You can just edit that file with a text editor. On the other hand, you can use the following to set values in the global config file found in the main .git directory. The main .git directory for a user is usually found in your home directory on both Windows in Linux.</p>
<pre><code>C:\\Users\\Charlie\&gt;git config --global user.name &quot;charliecalvert&quot;
C:\\Users\\Charlie\&gt;git config --global user.email &quot;noone@nowhere.net&quot;</code></pre>
<p>You can pass in a length of time you want git to cache your password:</p>
<pre><code>git config --global credential.helper cache --timeout=900</code></pre>
<h2 id="git-overwrite-local-changes">Git Overwrite Local Changes</h2>
<p>If you want to refresh the entire local repository, overwriting your changes, do this:</p>
<pre><code>git fetch
git reset --hard</code></pre>
<p>Or, you can specify the repository you want to reset from:</p>
<pre><code>git fetch
git reset --hard origin/master</code></pre>
<p>If you have a single file in the local repository that you have edited, and you want to throw away those changes, but keep your other changes, then do this:</p>
<pre><code>git fetch
git checkout origin/master &lt;MyFile&gt; </code></pre>
<h2 id="git-urls-and-ssh">Git URLs and SSH</h2>
<p>There are three ways to interact with a GIT repository on a site like GitHub or BitBucket:</p>
<ul>
<li>You can have read only access to the repository. This will let you check files out, but you cannot make changes and check them back in. This is what you want if you are using some third party library.</li>
<li>You can have HTTPs access to the library, which will enable you to check in and check out. Access to the library is then usually controlled with a user name and password. If you are uncomfortable with SSH, this will probably be the simplest option for you.</li>
<li>You can have SSH access to the repository. If you are at all familiar with SSH, you will probably find this option easiest when working with Git. If you have a key loaded with a tool lie <em>Pageant</em> or <em>ssh-add</em>, then you can check in and check out without having to worry about typing in your user name and password.</li>
</ul>
<p><em>NOTE</em>: Many tools, such as GitHub for Windows, can handle your password for you automatically. That means they work well with HTTPs connections. To get that benefit, you need to be in the GitHub GUI, or in the shells associated with those GUI's. These tools work well, and I encourage you to use them. However, there are times when it is nice to be able to check in and out of Git without having to use a specific tool. In those cases, many people will find it easiest to use SSH.</p>
<p>To connect to a site using SSH, you need to do two things:</p>
<ul>
<li>Load or reference the private portion of your SSH key on your local machine.<br /></li>
<li>Cache your SSH key on the remote machine. Both BitBucket and GitHub have locations on their web site where you can cache your public keys. On BitBucket, choose <em>Manage Account - SSH keys</em>. On GitHub, choose <em>Edit your profile - SSH Keys</em>.</li>
</ul>
<p>There are several types of URLs you can use with Git. Only one of them sets up your repository to use SSH. Here is the type of URL you would use when checking out a read only copy of a repository:</p>
<pre><code>git://github.com/someone/JsObjects.git</code></pre>
<p>The above URL does not depend on SSH. When you use a URL that looks like the one shown below, then you are saying you want to work with a read/write copy of the repository in SSH mode:</p>
<pre><code>git@github.com:someone/JsObjects.git</code></pre>
<p>Let's put them right next to each other so you can compare:</p>
<pre><code>git://github.com/someone/JsObjects.git 
git@github.com:someone/JsObjects.git</code></pre>
<p>Notice the readonly version (the first one) has slashes where the readwrite version has at (@) symbols or colons.</p>
<p>None of this is specific to GitHub. The same syntax applies when working with files stored in any remote repository. Here, for instance, is an SSH URL for bitbucket:</p>
<pre><code>git@bitbucket.org:someone/deleteme.git</code></pre>
<p>Here is a URL for an HTTPS readwrite connection to a repository:</p>
<pre><code>https://github.com/charliecalvert/bc-basic.git</code></pre>
<p>There URLs are easy to identify since they begin with the letters https.</p>
<p><em>NOTE: Further down in this document you will learn about creating URLs for local repositories.</em></p>
<h2 id="what-url-is-my-connection-using">What URL is My Connection Using?</h2>
<p>The URL for your repository is usually kept in the .git directory at the root of your repository. (Sometimes this folder is hidden, even on Windows. You can look for hidden files or folders, or just go ahead and type <em>cd .git</em>, and assume it will work if you are in the root of your repository.) If you want to change the URL your repository uses by default, you can open the <em>config</em> file in your .git directory and edit this line:</p>
<pre><code>[remote &quot;origin&quot;]
url = git@github.com:charliecalvert/JsObjects.git </code></pre>
<h3 id="the-ssh-key">The SSH Key</h3>
<p>If you are going to be using SSH to connect to your repository, then you want to be sure that you have your key loaded into memory. On Windows, I use a Pageant (PuTTY). When you clone, it helps a lot if you use Pagaent. On Linux, you can use <em>ssh-agent</em> and <em>ssh-add</em>.</p>
<p><em>NOTE</em>: When working on Windows, be sure to check your /users/username/.ssh folder for keys that tools like GitHub might be using. This will only come into play if you are not using plink to handle your keys.</p>
<p>Caching SSH Keys on Linux</p>
<p>On Linux, this is how I load an SSH key into memory so that I don't have to reference it each time I make a connection. (On Windows we use Pageant to perform this task.)</p>
<p>First I need to be sure ssh-agent is load. Then I add the key to the store. Notice that in the first command we use backticks:</p>
<pre><code>eval `ssh-agent`
ssh-add MyKey.pem</code></pre>
<p>If you get a warning about an unprotected key file, that usually means that you have not set up the permissions correctly for the key file itself. You should ensure that only the current user can read it:</p>
<pre><code>chmod 600 github_rsa</code></pre>
<p>Or perhaps:</p>
<pre><code>chmod 600 MyKey.pem</code></pre>
<p>Now try again, and it should go smoothly.</p>
<pre><code>ssh-add github_rsa</code></pre>
<p><em>NOTE</em>: I suppose you could even make the SSH keys readonly:</p>
<pre><code>chmod 400 github_rsa</code></pre>
<p>After doing this, you should be able to access sites where you have shared your ssh public key.</p>
<h2 id="host-key-is-not-cached">Host Key is not Cached</h2>
<p>The following error is a classic:</p>
<p>&quot;The servers host key is not cached in the registry...connection abandoned.&quot;</p>
<p>To fix this, Open Putty, and create a connection to BitBucket (bitbucket.org). Try to connect. You don't need to actually connect, you just need the dialog to pop up that asks if you want to store the key for the site locally. Answer yes. Then, if you actually connected, which is unlikely and unnecessary, disconnect. Now go back and try to connect again using SSH. It should now work.</p>
<p>Another option is to type the following at the command line:</p>
<pre><code>plink MyUserName@bitbucket.org</code></pre>
<p>This will also give you an option to store the key for the bitbucket server in your known_hosts file. The <em>known_hosts</em> file is usually stored in your ssh directory:</p>
<h2 id="clone-a-local-repository">Clone a Local Repository</h2>
<pre><code>git clone file:////home/charlie/git/myrepo git clone file:////\$HOME/git/myrepo</code></pre>
<h2 id="git-remote">GIT Remote</h2>
<p>Suppose you have an existing repository on your local machine, and an empty repository on GitHub. Navigate to the folder that holds your local copy of the repository. If issued from that folder, the followling line ought to add your local repository to the empty GitHub repository:</p>
<pre><code>git remote add origin ssh://git@bitbucket.org/ccalvert/deleteme.git</code></pre>
<p>You can then type the following to see where your repository is set up:</p>
<pre><code>git remote -v</code></pre>
<p>Delete a remote repoistory called working:</p>
<pre><code>git push origin origin :working</code></pre>
<p>To delete a local branch named working:</p>
<pre><code>git branch -d working</code></pre>
<h2 id="working-with-branches">Working with Branches</h2>
<p>List available branches:</p>
<pre><code>git branch</code></pre>
<p>Create a branch:</p>
<pre><code>git branch myBranch</code></pre>
<p>Switch to a branch:</p>
<pre><code>git checkout myBranch</code></pre>
<p>Then edit a file and check your changes in to your branch:</p>
<pre><code>git add MyFile 
git commit -m &quot;Committing changes to MyFile&quot;</code></pre>
<h2 id="push-local-branch-to-remote">Push Local Branch to Remote</h2>
<p>If you want to create a copy of your branch in the original remote repository:</p>
<pre><code>git push &lt;remote&gt; &lt;local&gt;</code></pre>
<p>For example:</p>
<pre><code>git push origin myBranch</code></pre>
<p>This would, for example, push the local branch called myBranch to the remote repository, which might be a place like GitHub or BitBucket. If <em>myBranch</em> does not exist in the remote repository, then it will be created.</p>
<p>The next time you push, you can use the same command, or you can set things up so <em>git push</em> will push only the current repostory:</p>
<pre><code>git config push.default current</code></pre>
<h2 id="clone-a-local-repository-1">Clone a Local Repository</h2>
<pre><code>git clone file:////home/charlie/git/myrepo git clone file:////$HOME/git/myrepo</code></pre>
<p>Merge from a local repository. For instance, you are in master, and you want to merge the commits that are in working:</p>
<pre><code>git merge working </code></pre>
<h2 id="clone-a-specific-branch">Clone a Specific Branch</h2>
<pre><code>BRANCH=chasyte
REPOSITORY=file:////home/charlie/git/myrepo
mkdir 
cd $BRANCH
git init
git remote add -t $BRANCH -f origin $REPOSITORY
git checkout $BRANCH</code></pre>
<h2 id="restructure-you-repository">Restructure you Repository</h2>
<p>If you want to restructure a Git repository, you can usually do what you want with the following command:</p>
<pre><code>git mv X Y</code></pre>
<p>Where X and Y could be either the name of a folder or a file. Examples:</p>
<pre><code>git mv MyFile.txt MyFolder/.

mkdir MyNewFolder
git mv *.txt MyNewFolder/.
git mv MyFolder MyNewFolder/.</code></pre>
<p>Just as on Linux, you can rename a file with the mv command:</p>
<pre><code>git mv MyFile01.txt MyFile02.txt</code></pre>
<p>This renames MyFile01.txt to MyFile02.txt.</p>
<p>If you want to delete an entire directory and its subdirectories, try this:</p>
<pre><code>git rm -r MyFolder</code></pre>
<p>And so on...</p>
<p>The point being that you don't have to start a new repository if you want to change the way you have set up your directories. Just use <em>git mv</em> or <em>git rm</em> to delete files.</p>
<h2 id="terminal-is-not-fully-functional">Terminal is Not Fully Functional</h2>
<p>You can get ride of this warning by defining an environment variable called TERM and setting it to msys.</p>
<p>On Windows, you can type:</p>
<pre><code>set TERM=msys</code></pre>
<p>Or edit the Environment Variables for your Account and create a new variable called TERM set to the msys.</p>
<p>On Linux, you export TERM = msys</p>
<pre><code>export TERM=msys</code></pre>
<h2 id="miscelaneous-information">Miscelaneous Information</h2>
<p>I've not had a chance to sort this out yet. You can just ignore most or all of what is written in this section.</p>
<h2 id="learn-about-nodejs">Learn about NodeJS</h2>
<pre><code>https://www.windowsazure.com/en-us/develop/nodejs/

npm install azure node-uuid DSInit /sqlInstance:.</code></pre>
<h2 id="simpledb">SimpleDb</h2>
<p><a href="https://github.com/rjrodger/simpledb">https://github.com/rjrodger/simpledb</a></p>
<h2 id="templating-engines">Templating engines</h2>
<p><a href="https://github.com/joyent/node/wiki/modules#wiki-templating">https://github.com/joyent/node/wiki/modules#wiki-templating</a></p>
<p>This usually means that you don't have a default file set for your application. Try explicitly naming the file:</p>
<pre><code>http://localhost:81/server.js</code></pre>
</article>
	<footer>

		<p>Copyright &copy; <a href="../../index.html">Charlie Calvert</a> |
		<a href="../../index.html">Elvenware Home</a> |
		<a href="../index.html">Writing Code</a> |
		<a href="../delphi/index.html">Delphi</a> |
		<a href="../csharp/index.html">CSharp</a> |
		<a href="../../books/index.html">My Books</a> </p>
	</footer>
</div>

</body>
</html>



